[meta]
title = "git-trek Roadmap"
description = "Visual git time travel & file recovery"

# ============================================
# SECTIONS
# ============================================
[[sections]]
id = "core"
title = "Core Infrastructure"
status = "current"
order = 0

[[sections]]
id = "data"
title = "Data Model"
status = "current"
order = 1

[[sections]]
id = "git"
title = "Git Integration"
status = "current"
order = 2

[[sections]]
id = "input"
title = "Input Handling"
status = "current"
order = 3

[[sections]]
id = "treemap"
title = "Treemap View"
status = "current"
order = 4

[[sections]]
id = "heatmap"
title = "Heatmap View"
status = "pending"
order = 5

[[sections]]
id = "minimap"
title = "Minimap View"
status = "pending"
order = 6

[[sections]]
id = "river"
title = "River View"
status = "pending"
order = 7

[[sections]]
id = "focus"
title = "Focus View"
status = "pending"
order = 8

[[sections]]
id = "polish"
title = "Polish & QoL"
status = "pending"
order = 9

# ============================================
# CORE INFRASTRUCTURE (src/main.rs, src/app.rs)
# ============================================
[[tasks]]
id = "core-main-entry"
text = "main() entry point with error handling"
status = "done"
section = "core"
order = 0

[[tasks]]
id = "core-terminal-setup"
text = "setup_terminal() raw mode + mouse capture"
status = "done"
section = "core"
order = 1

[[tasks]]
id = "core-terminal-restore"
text = "restore_terminal() cleanup on exit"
status = "done"
section = "core"
order = 2

[[tasks]]
id = "core-event-loop"
text = "run_app() main event loop with 50ms poll"
status = "done"
section = "core"
order = 3

[[tasks]]
id = "core-app-struct"
text = "App struct (repo, data, view, commit_idx, selected_file, mouse, should_quit, message)"
status = "done"
section = "core"
order = 4

[[tasks]]
id = "core-app-new"
text = "App::new() initialize from CLI args"
status = "done"
section = "core"
order = 5

[[tasks]]
id = "core-cli-struct"
text = "Cli struct (limit, dry_run)"
status = "done"
section = "core"
order = 6

[[tasks]]
id = "core-cli-parse"
text = "Cli::parse_checked() with validation"
status = "done"
section = "core"
order = 7

[[tasks]]
id = "core-cli-limit"
text = "--limit flag for commit count"
status = "done"
section = "core"
order = 8

[[tasks]]
id = "core-cli-dry-run"
text = "--dry-run flag for testing"
status = "done"
section = "core"
order = 9

[[tasks]]
id = "core-message-display"
text = "Post-exit message display"
status = "done"
section = "core"
order = 10

# ============================================
# DATA MODEL (src/data.rs)
# ============================================
[[tasks]]
id = "data-health-enum"
text = "HealthStatus enum (Stable, Grew, Shrank, MaybeFucked, New, Deleted)"
status = "done"
section = "data"
order = 0

[[tasks]]
id = "data-health-from-change"
text = "HealthStatus::from_size_change() old/new comparison"
status = "done"
section = "data"
order = 1

[[tasks]]
id = "data-health-from-ratio"
text = "HealthStatus::from_ratio() with 0.7/0.95/1.05 thresholds"
status = "done"
section = "data"
order = 2

[[tasks]]
id = "data-file-snapshot"
text = "FileSnapshot struct (lines, bytes)"
status = "done"
section = "data"
order = 3

[[tasks]]
id = "data-tracked-file"
text = "TrackedFile struct (path, history HashMap)"
status = "done"
section = "data"
order = 4

[[tasks]]
id = "data-tracked-new"
text = "TrackedFile::new()"
status = "done"
section = "data"
order = 5

[[tasks]]
id = "data-tracked-lines-at"
text = "TrackedFile::lines_at() get lines at commit index"
status = "done"
section = "data"
order = 6

[[tasks]]
id = "data-tracked-health-at"
text = "TrackedFile::health_at() compare to previous commit"
status = "done"
section = "data"
order = 7

[[tasks]]
id = "data-commit-info"
text = "CommitInfo struct (oid, summary, author, timestamp, files_changed, insertions, deletions)"
status = "done"
section = "data"
order = 8

[[tasks]]
id = "data-repo-data"
text = "RepoData struct (commits Vec, files HashMap)"
status = "done"
section = "data"
order = 9

[[tasks]]
id = "data-repo-new"
text = "RepoData::new()"
status = "done"
section = "data"
order = 10

# ============================================
# GIT INTEGRATION (src/git_ops.rs)
# ============================================
[[tasks]]
id = "git-load-repo"
text = "load_repo_data() main loader function"
status = "done"
section = "git"
order = 0

[[tasks]]
id = "git-collect-oids"
text = "collect_commit_oids() revwalk with TOPOLOGICAL|TIME sort"
status = "done"
section = "git"
order = 1

[[tasks]]
id = "git-build-commit"
text = "build_commit_info() extract commit metadata"
status = "done"
section = "git"
order = 2

[[tasks]]
id = "git-diff-stats"
text = "get_diff_stats() insertions/deletions count"
status = "done"
section = "git"
order = 3

[[tasks]]
id = "git-collect-snapshots"
text = "collect_file_snapshots() tree walk for files"
status = "done"
section = "git"
order = 4

[[tasks]]
id = "git-process-blob"
text = "process_blob_entry() count newlines in blob"
status = "done"
section = "git"
order = 5

[[tasks]]
id = "git-format-oid"
text = "format_oid() 8-char hash display"
status = "done"
section = "git"
order = 6

[[tasks]]
id = "git-get-content"
text = "get_file_content() retrieve file at commit"
status = "done"
section = "git"
order = 7

[[tasks]]
id = "git-restore-file"
text = "restore_file() write file to disk"
status = "done"
section = "git"
order = 8

# ============================================
# INPUT HANDLING (src/main.rs, src/mouse.rs)
# ============================================
[[tasks]]
id = "input-hitbox-struct"
text = "HitBox struct (rect, id)"
status = "done"
section = "input"
order = 0

[[tasks]]
id = "input-hitid-enum"
text = "HitId enum (File, ViewTab, None)"
status = "done"
section = "input"
order = 1

[[tasks]]
id = "input-mouse-state"
text = "MouseState struct (x, y, hover)"
status = "done"
section = "input"
order = 2

[[tasks]]
id = "input-mouse-update-pos"
text = "MouseState::update_position()"
status = "done"
section = "input"
order = 3

[[tasks]]
id = "input-mouse-set-hover"
text = "MouseState::set_hover()"
status = "done"
section = "input"
order = 4

[[tasks]]
id = "input-hit-test"
text = "hit_test() find element under cursor"
status = "done"
section = "input"
order = 5

[[tasks]]
id = "input-handle-mouse"
text = "handle_mouse() dispatch Moved/Down/Scroll"
status = "done"
section = "input"
order = 6

[[tasks]]
id = "input-handle-key"
text = "handle_key() keyboard dispatch"
status = "done"
section = "input"
order = 7

[[tasks]]
id = "input-view-from-key"
text = "view_from_key() map 1-5 to ViewMode"
status = "done"
section = "input"
order = 8

[[tasks]]
id = "input-handle-nav"
text = "handle_navigation() arrows/tab"
status = "done"
section = "input"
order = 9

[[tasks]]
id = "input-key-q-quit"
text = "Q key quits app"
status = "done"
section = "input"
order = 10

[[tasks]]
id = "input-key-r-restore"
text = "R key restores selected file"
status = "done"
section = "input"
order = 11

[[tasks]]
id = "input-key-esc-deselect"
text = "Esc key deselects file"
status = "done"
section = "input"
order = 12

[[tasks]]
id = "input-key-arrows"
text = "Left/Right arrows navigate timeline"
status = "done"
section = "input"
order = 13

[[tasks]]
id = "input-key-tab"
text = "Tab/BackTab cycles views"
status = "done"
section = "input"
order = 14

[[tasks]]
id = "input-scroll-up"
text = "ScrollUp moves timeline backward"
status = "done"
section = "input"
order = 15

[[tasks]]
id = "input-scroll-down"
text = "ScrollDown moves timeline forward"
status = "done"
section = "input"
order = 16

[[tasks]]
id = "input-click-file"
text = "Click file to select"
status = "done"
section = "input"
order = 17

[[tasks]]
id = "input-click-tab"
text = "Click tab to switch view"
status = "done"
section = "input"
order = 18

[[tasks]]
id = "input-hover-highlight"
text = "Hover highlights element"
status = "done"
section = "input"
order = 19

# ============================================
# APP STATE (src/app.rs)
# ============================================
[[tasks]]
id = "app-current-commit-label"
text = "App::current_commit_label() format hash"
status = "done"
section = "core"
order = 11

[[tasks]]
id = "app-files-at-commit"
text = "App::files_at_current_commit() sorted by size"
status = "done"
section = "core"
order = 12

[[tasks]]
id = "app-file-health"
text = "App::file_health() get status for path"
status = "done"
section = "core"
order = 13

[[tasks]]
id = "app-handle-click"
text = "App::handle_click() dispatch File/ViewTab"
status = "done"
section = "core"
order = 14

[[tasks]]
id = "app-scroll-timeline"
text = "App::scroll_timeline() with bounds checking"
status = "done"
section = "core"
order = 15

[[tasks]]
id = "app-set-view"
text = "App::set_view()"
status = "done"
section = "core"
order = 16

[[tasks]]
id = "app-next-view"
text = "App::next_view()"
status = "done"
section = "core"
order = 17

[[tasks]]
id = "app-prev-view"
text = "App::prev_view()"
status = "done"
section = "core"
order = 18

[[tasks]]
id = "app-restore-selected"
text = "App::restore_selected() restore with message"
status = "done"
section = "core"
order = 19

# ============================================
# VIEW SYSTEM (src/views/mod.rs)
# ============================================
[[tasks]]
id = "view-mode-enum"
text = "ViewMode enum (Treemap, Heatmap, Minimap, River, Focus)"
status = "done"
section = "treemap"
order = 0

[[tasks]]
id = "view-mode-all"
text = "ViewMode::ALL const array"
status = "done"
section = "treemap"
order = 1

[[tasks]]
id = "view-mode-name"
text = "ViewMode::name() display string"
status = "done"
section = "treemap"
order = 2

[[tasks]]
id = "view-mode-index"
text = "ViewMode::index() numeric index"
status = "done"
section = "treemap"
order = 3

[[tasks]]
id = "view-mode-from-index"
text = "ViewMode::from_index() with default fallback"
status = "done"
section = "treemap"
order = 4

[[tasks]]
id = "view-mode-next"
text = "ViewMode::next() cycle forward"
status = "done"
section = "treemap"
order = 5

[[tasks]]
id = "view-mode-prev"
text = "ViewMode::prev() cycle backward"
status = "done"
section = "treemap"
order = 6

[[tasks]]
id = "view-render-result"
text = "RenderResult struct (hit_boxes Vec)"
status = "done"
section = "treemap"
order = 7

[[tasks]]
id = "view-draw-dispatch"
text = "draw() dispatch to current view"
status = "done"
section = "treemap"
order = 8

# ============================================
# TREEMAP VIEW (src/views/treemap.rs)
# ============================================
[[tasks]]
id = "treemap-color-stable"
text = "CLR_STABLE constant (60,60,60 gray)"
status = "done"
section = "treemap"
order = 10

[[tasks]]
id = "treemap-color-grew"
text = "CLR_GREW constant (80,200,120 green)"
status = "done"
section = "treemap"
order = 11

[[tasks]]
id = "treemap-color-shrank"
text = "CLR_SHRANK constant (200,200,80 yellow)"
status = "done"
section = "treemap"
order = 12

[[tasks]]
id = "treemap-color-fucked"
text = "CLR_FUCKED constant (255,80,80 red)"
status = "done"
section = "treemap"
order = 13

[[tasks]]
id = "treemap-color-new"
text = "CLR_NEW constant (80,180,255 blue)"
status = "done"
section = "treemap"
order = 14

[[tasks]]
id = "treemap-color-hover"
text = "CLR_HOVER constant (255,0,255 magenta)"
status = "done"
section = "treemap"
order = 15

[[tasks]]
id = "treemap-color-selected"
text = "CLR_SELECTED constant (0,255,255 cyan)"
status = "done"
section = "treemap"
order = 16

[[tasks]]
id = "treemap-draw-main"
text = "draw() main treemap render with 4-chunk layout"
status = "done"
section = "treemap"
order = 17

[[tasks]]
id = "treemap-draw-header"
text = "draw_header() title + view tabs"
status = "done"
section = "treemap"
order = 18

[[tasks]]
id = "treemap-draw-timeline"
text = "draw_timeline() slider with position marker"
status = "done"
section = "treemap"
order = 19

[[tasks]]
id = "treemap-draw-area"
text = "draw_treemap_area() file rectangles"
status = "done"
section = "treemap"
order = 20

[[tasks]]
id = "treemap-draw-status"
text = "draw_status() bottom hints bar"
status = "done"
section = "treemap"
order = 21

[[tasks]]
id = "treemap-health-color"
text = "health_color() map HealthStatus to Color"
status = "done"
section = "treemap"
order = 22

[[tasks]]
id = "treemap-truncate-path"
text = "truncate_path() shorten filename for display"
status = "done"
section = "treemap"
order = 23

[[tasks]]
id = "treemap-compute-layout"
text = "compute_treemap_layout() sequential strip algorithm"
status = "done"
section = "treemap"
order = 24

[[tasks]]
id = "treemap-file-label"
text = "File rectangle shows truncated name"
status = "done"
section = "treemap"
order = 25

[[tasks]]
id = "treemap-file-linecount"
text = "File rectangle shows line count"
status = "done"
section = "treemap"
order = 26

[[tasks]]
id = "treemap-hitbox-files"
text = "Hit boxes registered for files"
status = "done"
section = "treemap"
order = 27

[[tasks]]
id = "treemap-hitbox-tabs"
text = "Hit boxes registered for view tabs"
status = "done"
section = "treemap"
order = 28

[[tasks]]
id = "treemap-tab-active"
text = "Active tab highlighted (black on cyan)"
status = "done"
section = "treemap"
order = 29

[[tasks]]
id = "treemap-tab-hover"
text = "Tab hover highlight (cyan text)"
status = "done"
section = "treemap"
order = 30

[[tasks]]
id = "treemap-timeline-marker"
text = "Timeline shows ◉ at current position"
status = "done"
section = "treemap"
order = 31

[[tasks]]
id = "treemap-timeline-n-of-total"
text = "Timeline shows N / total"
status = "done"
section = "treemap"
order = 32

[[tasks]]
id = "treemap-timeline-summary"
text = "Timeline shows commit summary (40 chars)"
status = "done"
section = "treemap"
order = 33

[[tasks]]
id = "treemap-commit-hash"
text = "Files panel shows commit hash"
status = "done"
section = "treemap"
order = 34

[[tasks]]
id = "treemap-max-20-files"
text = "Treemap limited to 20 files"
status = "done"
section = "treemap"
order = 35

# ============================================
# TREEMAP IMPROVEMENTS (TODO)
# ============================================
[[tasks]]
id = "treemap-squarify"
text = "Squarified layout algorithm (better aspect ratios)"
status = "pending"
section = "treemap"
order = 40

[[tasks]]
id = "treemap-binary-filter"
text = "Filter binary files (gif/png/jpg/etc)"
status = "pending"
section = "treemap"
order = 41

[[tasks]]
id = "treemap-legend"
text = "Color legend for health status"
status = "pending"
section = "treemap"
order = 42

[[tasks]]
id = "treemap-dir-grouping"
text = "Directory grouping/nesting"
status = "pending"
section = "treemap"
order = 43

[[tasks]]
id = "treemap-hover-stats"
text = "Hover tooltip with full path + stats"
status = "pending"
section = "treemap"
order = 44

[[tasks]]
id = "treemap-no-file-limit"
text = "Remove 20 file limit (overflow handling)"
status = "pending"
section = "treemap"
order = 45

# ============================================
# HEATMAP VIEW (TODO)
# ============================================
[[tasks]]
id = "heatmap-grid-layout"
text = "Time (x) vs File (y) grid layout"
status = "pending"
section = "heatmap"
order = 0

[[tasks]]
id = "heatmap-intensity-calc"
text = "Cell intensity = lines changed"
status = "pending"
section = "heatmap"
order = 1

[[tasks]]
id = "heatmap-intensity-render"
text = "Render intensity as ░▒▓█ characters"
status = "pending"
section = "heatmap"
order = 2

[[tasks]]
id = "heatmap-file-labels"
text = "File path labels on y-axis"
status = "pending"
section = "heatmap"
order = 3

[[tasks]]
id = "heatmap-date-labels"
text = "Date labels on x-axis"
status = "pending"
section = "heatmap"
order = 4

[[tasks]]
id = "heatmap-cursor-marker"
text = "YOU ARE HERE marker at current commit"
status = "pending"
section = "heatmap"
order = 5

[[tasks]]
id = "heatmap-row-click"
text = "Click row to select file"
status = "pending"
section = "heatmap"
order = 6

[[tasks]]
id = "heatmap-cell-click"
text = "Click cell to jump to commit"
status = "pending"
section = "heatmap"
order = 7

[[tasks]]
id = "heatmap-scroll-pan"
text = "Scroll to pan time axis"
status = "pending"
section = "heatmap"
order = 8

[[tasks]]
id = "heatmap-hitboxes"
text = "Hit boxes for rows and cells"
status = "pending"
section = "heatmap"
order = 9

# ============================================
# MINIMAP VIEW (TODO)
# ============================================
[[tasks]]
id = "minimap-three-panel"
text = "Three panel layout (before/after/diff)"
status = "pending"
section = "minimap"
order = 0

[[tasks]]
id = "minimap-before-render"
text = "BEFORE panel code silhouette"
status = "pending"
section = "minimap"
order = 1

[[tasks]]
id = "minimap-after-render"
text = "AFTER panel code silhouette"
status = "pending"
section = "minimap"
order = 2

[[tasks]]
id = "minimap-diff-render"
text = "DIFF panel with +/- regions"
status = "pending"
section = "minimap"
order = 3

[[tasks]]
id = "minimap-density-viz"
text = "Pixel density = code density"
status = "pending"
section = "minimap"
order = 4

[[tasks]]
id = "minimap-line-stats"
text = "Show line counts and delta"
status = "pending"
section = "minimap"
order = 5

[[tasks]]
id = "minimap-shrinkage-warning"
text = "SIGNIFICANT SHRINKAGE warning"
status = "pending"
section = "minimap"
order = 6

[[tasks]]
id = "minimap-drag-before"
text = "Drag to select BEFORE commit"
status = "pending"
section = "minimap"
order = 7

[[tasks]]
id = "minimap-drag-after"
text = "Drag to select AFTER commit"
status = "pending"
section = "minimap"
order = 8

[[tasks]]
id = "minimap-restore-key"
text = "R key restores BEFORE version"
status = "pending"
section = "minimap"
order = 9

# ============================================
# RIVER VIEW (TODO)
# ============================================
[[tasks]]
id = "river-stacked-stream"
text = "Stacked stream chart layout"
status = "pending"
section = "river"
order = 0

[[tasks]]
id = "river-file-areas"
text = "Each file as colored stream area"
status = "pending"
section = "river"
order = 1

[[tasks]]
id = "river-size-axis"
text = "Y-axis shows total lines"
status = "pending"
section = "river"
order = 2

[[tasks]]
id = "river-time-axis"
text = "X-axis shows time/commits"
status = "pending"
section = "river"
order = 3

[[tasks]]
id = "river-file-birth"
text = "Stream appears when file created"
status = "pending"
section = "river"
order = 4

[[tasks]]
id = "river-file-death"
text = "Stream ends when file deleted"
status = "pending"
section = "river"
order = 5

[[tasks]]
id = "river-file-split"
text = "Visualize file splits"
status = "pending"
section = "river"
order = 6

[[tasks]]
id = "river-hover-label"
text = "Hover shows file name at point"
status = "pending"
section = "river"
order = 7

[[tasks]]
id = "river-click-jump"
text = "Click jumps to commit"
status = "pending"
section = "river"
order = 8

[[tasks]]
id = "river-scroll-zoom"
text = "Scroll to zoom time axis"
status = "pending"
section = "river"
order = 9

[[tasks]]
id = "river-cursor-marker"
text = "YOU ARE HERE vertical line"
status = "pending"
section = "river"
order = 10

# ============================================
# FOCUS VIEW (TODO)
# ============================================
[[tasks]]
id = "focus-single-file"
text = "Deep dive on selected file"
status = "pending"
section = "focus"
order = 0

[[tasks]]
id = "focus-sparkline"
text = "Sparkline showing size over N commits"
status = "pending"
section = "focus"
order = 1

[[tasks]]
id = "focus-commit-list"
text = "List of commits touching this file"
status = "pending"
section = "focus"
order = 2

[[tasks]]
id = "focus-commit-select"
text = "Up/Down to select commit in list"
status = "pending"
section = "focus"
order = 3

[[tasks]]
id = "focus-commit-preview"
text = "Preview file content at selected commit"
status = "pending"
section = "focus"
order = 4

[[tasks]]
id = "focus-minimap-thumb"
text = "Minimap thumbnail for each commit"
status = "pending"
section = "focus"
order = 5

[[tasks]]
id = "focus-restore-key"
text = "R key restores from selected commit"
status = "pending"
section = "focus"
order = 6

[[tasks]]
id = "focus-warning-flags"
text = "Warning flags on suspicious commits"
status = "pending"
section = "focus"
order = 7

[[tasks]]
id = "focus-enter-preview"
text = "Enter key opens full preview"
status = "pending"
section = "focus"
order = 8

# ============================================
# POLISH & QOL (TODO)
# ============================================
[[tasks]]
id = "polish-filter-path"
text = "Filter files by path pattern"
status = "pending"
section = "polish"
order = 0

[[tasks]]
id = "polish-filter-ext"
text = "Filter files by extension"
status = "pending"
section = "polish"
order = 1

[[tasks]]
id = "polish-search-commits"
text = "Search commits by message"
status = "pending"
section = "polish"
order = 2

[[tasks]]
id = "polish-branch-support"
text = "Branch selection"
status = "pending"
section = "polish"
order = 3

[[tasks]]
id = "polish-help-overlay"
text = "? key shows help overlay"
status = "pending"
section = "polish"
order = 4

[[tasks]]
id = "polish-config-file"
text = "Config file support"
status = "pending"
section = "polish"
order = 5
